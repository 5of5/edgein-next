query GetFollowsByUser($user_id: Int!) {
	list_members(where: { user_id: { _eq: $user_id } }) {
		list {
			name
			id
			created_by_id
			created_at
			total_no_of_resources
			follows_companies {
				resource_id
			}
			follows_vcfirms {
				resource_id
			}
		}
	}
}

query GetCompaniesByListId($list_id: Int = 0) {
	follows_companies(where: { list_id: { _eq: $list_id } }) {
		id
		company {
			id
			name
			logo
			sentiment
			location
			location_json
			twitter
			year_founded
			total_employees
			overview
			coin {
				ticker
				name
			}
			teamMembers {
				id
			}
			investment_rounds {
				amount
				round_date
				round
			}
			tags
			slug
		}
	}
}

query GetVcFirmsByListId($list_id: Int = 0) {
	follows_vc_firms(where: { list_id: { _eq: $list_id } }) {
		id
		vc_firm {
			id
			name
			num_of_investments
			latest_investment
			sentiment
			logo
			slug
			location
			year_founded
			overview
			tags
			investments {
				investment_round {
					id
					amount
					round_date
					round
				}
			}
		}
	}
}

mutation UpsertFollows(
  $listId: Int
  $resourceId: Int
  $resourceType: String
  $userId: Int
) {
  insert_follows_one(
    object: {
      list_id: $listId
      resource_id: $resourceId
      resource_type: $resourceType
      created_by_user_id: $userId
    }
    on_conflict: { constraint: follows_resource_type_resource_id_list_id_key }
  ) {
    id
  }
}

mutation DeleteFollows($where: follows_bool_exp!) {
  delete_follows(where: $where) {
    returning {
      id
    }
  }
}

query GetFollowById($id: Int!) {
  follows(where: { id: { _eq: $id } }, limit: 1) {
    id
    created_by_user_id
    resource_type
    resource_id
    list_id
  }
}
