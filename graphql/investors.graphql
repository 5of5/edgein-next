mutation InsertInvestor($personId: Int, $vcFirmId: Int) {
  insert_investors_one(
    object: { person_id: $personId, vc_firm_id: $vcFirmId }
    on_conflict: {
      constraint: investors_vc_firm_id_person_id_key
      update_columns: []
    }
  ) {
    id
  }
}

query GetInvestorById($id: Int!) {
  investors(where: { id: { _eq: $id } }, limit: 1) {
    id
    vc_firm_id
    person_id
    person {
      id
      name
      slug
      status
    }
  }
}

query GetInvestorMailingList($where: investments_bool_exp) {
  investments(where: $where) {
    id
    vc_firm {
      investments {
        investment_round {
          company {
            teamMembers(where: { email_address: { _neq: "" } }) {
              email_address
            }
          }
        }
      }
    }
  }
}
